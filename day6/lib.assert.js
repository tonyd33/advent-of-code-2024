const {assert, assertEq} = require('../util')
const {done, simulate} = require('./lib')

assert(done([ ['^', '.'] ]))
assert(done([ ['<', '.'] ]))
assert(done([ ['v', '.'] ]))
assert(done([ ['.', '>'] ]))
assert(!done([ ['.', '>', '.'] ]))

assertEq(
  simulate(
    [['.', '.', '.', '.'],
     ['.', '.', '.', '.'],
     ['.', '.', '#', '.'],
     ['.', 'v', '.', '.']]
  ),
  [
    [[1, 3]],
    [['.', '.', '.', '.'],
     ['.', '.', '.', '.'],
     ['.', '.', '#', '.'],
     ['.', 'v', '.', '.']]
  ]
)
assertEq(
  simulate(
    [['.', '.', '.', '.'],
     ['.', '.', '.', '.'],
     ['.', '>', '#', '.'],
     ['.', '.', '.', '.']]
  ),
  [
    [[1, 2], [1,3]],
    [['.', '.', '.', '.'],
     ['.', '.', '.', '.'],
     ['.', '.', '#', '.'],
     ['.', 'v', '.', '.']]
  ]
)
assertEq(
  simulate(
    [['.', '.', '.', '.'],
     ['.', '.', '.', '.'],
     ['>', '.', '#', '.'],
     ['.', '.', '.', '.']]
  ),
  [
    [[0, 2], [1, 2], [1,3]],
    [['.', '.', '.', '.'],
     ['.', '.', '.', '.'],
     ['.', '.', '#', '.'],
     ['.', 'v', '.', '.']]
  ]
)
